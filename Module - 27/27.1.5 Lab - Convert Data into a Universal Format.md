# 27.1.5 Lab - Convert Data into a Universal Forma

## Part 1: Normalize Timestamps in a Log File

* Launch the CyberOps Workstation VM and then launch a terminal window
* Use the cd command to change to the /home/analyst/lab.support.files/ directory. A copy of the file shown above is stored there

![image](https://github.com/tousif13/CISCO_CyberOps/assets/33444140/137ea459-03a0-4362-aeff-f6fae2149088)

* Issue the following AWK command to convert and print the result on the terminal:
* `awk 'BEGIN {FS=OFS="|"}{$3=strftime("%c",$3)} {print}' applicationX_in_epoch.log`

![image](https://github.com/tousif13/CISCO_CyberOps/assets/33444140/1afe02e6-f506-42c4-969e-851a7d627b68)

    awk – This invokes the AWK interpreter.
    ‘BEGIN – This defines the beginning of the script.
    {} – This defines actions to be taken in each line of the input text file. An AWK script can have several actions.
    FS = OFS = “|” – This defines the field separator (i.e., delimiter) as the bar (|) symbol. Different text files may use different delimiting characters to separate fields. This operator allows the user to define what character is used as the field separator in the current text file.
    $3 – This refers to the value in the third column of the current line. In the applicationX_in_epoch.log, the third column contains the timestamp in epoch to be converted.
    strftime - This is an AWK internal function designed to work with time. The %c and $3 in between parenthesis are the parameters passed to strftime.
    applicationX_in_epoch.log – This is the input text file to be loaded and used. Because you are already in the lab.support.files directory, you do not need to add path information, /home/analyst/lab.support.files/applicationX_in_epoch.log.

* Were the Unix Epoch timestamps converted to Human Readable format? Were the other fields modified? Explain.

      Yes, the unix epoch timestamps converted to human readable format and other fields are not modified as above command modifies only timestamps.

* Compare the contents of the file and the printed output. Why is there the line, ||Wed 31 Dec 1969 07:00:00 PM EST?

      The reason for the extra line is because the file has an empty line at the end, which led the script to mistakenly interpret it as 0 and convert that into a Human Readable timestamp.

* Use nano (or your favorite text editor) to remove the extra empty line at the end of the file and run the AWK script again by using the up-arrow to find it in the command history buffer.

![image](https://github.com/tousif13/CISCO_CyberOps/assets/33444140/1f4f8cda-cdfe-4fb2-8b35-8b7411ad4e78)

* Is the output correct now? Explain

      Yes, as last line is removed. Now the output is correct.
