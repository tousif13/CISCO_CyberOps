# 5.3.7 - Lab - Introduction to Wireshark

### Mininet Topology

![image](https://github.com/tousif13/CISCO_CyberOps/assets/33444140/f3a33f8a-fb60-42dc-bc51-37be86488446)

## Part 1: Install and Verify the Mininet Topology

In this part, you will use a Python script to set up the Mininet Topology inside the CyberOps VM. You will then record the IP and MAC addresses for H1 and H2.

### Step 1: Verify your PC’s interface addresses.

Start and log into your CyberOps Workstation that you have installed in a previous lab using the following credentials:

    Username: analyst 
    Password: cyberops

### Step 2: Run the Python script to install the Mininet Topology.

Open a terminal emulator to start Mininet and enter the following command at the prompt. When prompted, enter cyberops as the password.

![image](https://github.com/tousif13/CISCO_CyberOps/assets/33444140/9314ecdc-4077-49ac-9680-23878bf40643)

![image](https://github.com/tousif13/CISCO_CyberOps/assets/33444140/434be534-e9f3-4c23-bd19-217e1f0d7675)

### Step 3: Record IP and MAC addresses for H1 and H2

* At the mininet prompt, start terminal windows on hosts H1 and H2. This will open separate windows for these hosts. Each host will have a separate configuration for the network including unique IP and MAC addresses.
* At the prompt on Node: H1, enter ip address to verify the IPv4 address and record the MAC address. Do the same for Node: H2. The IPv4 address and MAC address are highlighted below for reference.

![image](https://github.com/tousif13/CISCO_CyberOps/assets/33444140/5bedd59b-73a4-4dbe-a274-8bbcc72ef70d)

![image](https://github.com/tousif13/CISCO_CyberOps/assets/33444140/9f402a94-e48e-4ea7-be8b-56c9539cb8c3)

![ipaddr](https://github.com/tousif13/CISCO_CyberOps/assets/33444140/65080093-f8ed-478a-beb8-714ce7814c29)

## Part 2: Capture and Analyze ICMP Data in Wireshark

In this part, you will ping between two hosts in the Mininet and capture ICMP requests and replies in Wireshark. You will also look inside the captured PDUs for specific information. This analysis should help to clarify how packet headers are used to transport data to the destination.

### Step 1: Examine the captured data on the same LAN.

In this step, you will examine the data that was generated by the ping requests of your team member’s PC. Wireshark data is displayed in three sections:

* The top section displays the list of PDU frames captured with a summary of the IP packet information listed.
* The middle section lists PDU information for the frame selected in the top part of the screen and separates a captured PDU frame by its protocol layers
* The bottom section displays the raw data of each layer. The raw data is displayed in both hexadecimal and decimal form.

![image](https://github.com/tousif13/CISCO_CyberOps/assets/33444140/351db4ec-8d1e-4103-ba83-33ffacbcb1db)

* On Node: H1, enter wireshark & to start Wireshark (The pop-up warning is not important for this lab.). Click OK to continue.

![image](https://github.com/tousif13/CISCO_CyberOps/assets/33444140/d68f1627-2667-435b-a67e-4166018427d0)

* In the Wireshark window, under the Capture heading, select the H1-eth0 interface. Click Start to capture the data traffic.
* On Node: H1, press the Enter key, if necessary, to get a prompt. Then type ping -c 5 10.0.0.12 to ping H2 five times. The command option -c specifies the count or number of pings. The 5 specifies that five pings should be sent. The pings will all be successful.

        ping -c 5 10.0.0.12
* Navigate to the Wireshark window, click Stop to stop the packet capture.
* A filter can be applied to display only the interested traffic. Type `icmp` in the Filter field and click Apply.
* If necessary, click the first ICMP request PDU frames in the top section of Wireshark. Notice that the Source column has H1’s IP address, and the Destination column has H2’s IP address.

![image](https://github.com/tousif13/CISCO_CyberOps/assets/33444140/0b16d81a-a311-410f-a9c9-72ebbd902386)

* With this PDU frame still selected in the top section, navigate to the middle section. Click the arrow to the left of the Ethernet II row to view the Destination and Source MAC addresses.

![image](https://github.com/tousif13/CISCO_CyberOps/assets/33444140/72b40710-3a23-4b7d-b2f7-76fc3978636b)

* Does the Source MAC address match H1’s interface?

      Yes

* Does the Destination MAC address in Wireshark match H2’s MAC address?

      Yes

### Step 2: Examine the captured data on the remote LAN.

* You will ping remote hosts (hosts not on the LAN) and examine the generated data from those pings. You will then determine what is different about this data from the data examined in Part 1.

* At the mininet prompt, start terminal windows on hosts H4 and R1.
* . At the prompt on Node: H4, enter ip address to verify the IPv4 address and record the MAC address. Do the same for the Node: R1.

![image](https://github.com/tousif13/CISCO_CyberOps/assets/33444140/01a9dbd2-e01b-4445-ad40-71b4d9d6c2ff)

* Start a new Wireshark capture on H1 by selecting Capture > Start. You can also click the Start button or type Ctrl-E Click Continue without Saving to start a new capture

* H4 is a simulated remote server. Ping H4 from H1. The ping should be successful.

![image](https://github.com/tousif13/CISCO_CyberOps/assets/33444140/3183e393-7a9b-4399-b7e9-e9e505f92c12)

* Review the captured data in Wireshark. Examine the IP and MAC addresses that you pinged. Notice that the MAC address is for the R1-eth1 interface. List the destination IP and MAC addresses.

![image](https://github.com/tousif13/CISCO_CyberOps/assets/33444140/b8be58bd-6590-4c1f-a477-39bc582dfc31)


* In the main CyberOps VM window, enter quit to stop Mininet.

![image](https://github.com/tousif13/CISCO_CyberOps/assets/33444140/9e82374b-9cd2-41c8-bba5-3bd057e940f1)

* To clean up all the processes that were used by Mininet, enter the sudo mn -c command at the prompt.

![image](https://github.com/tousif13/CISCO_CyberOps/assets/33444140/4f84b8dc-fea7-4400-9772-2a1014af0957)
