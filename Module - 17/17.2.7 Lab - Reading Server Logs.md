# 17.2.7 Lab - Reading Server Logs

## Part 1: Reading Log Files with Cat, More, Less, and Tail

> Log files are files used to record specific events triggered by applications, services or the operating system itself. Usually stored as plain-text, log files are an indispensable resource for troubleshooting.

 ### Step 1: Opening Log Files.

 > Log files commonly contain plain-text information which can be viewed by practically any program able to 
handle text (text editors, for example). However, because of convenience, usability, and speed, a few tools 
are more commonly used than others. This section focuses on four command-line-based programs: cat, 
more, less, and tail

> cat, derived from the word ‘concatenate’, is a UNIX, command-line-based tool used to read and display the 
contents of a file on the screen. Because of its simplicity and it can open a text file and display it in a text-only 
terminal, cat is widely used to this day

* Start the CyberOps Worstation VM and open a terminal window.
* From the terminal window, issue the command below to display the contents of the `logstash-tutorial.log` file, located in the `/home/analyst/lab.support.files/` folder:
* `cat /home/analyst/lab.support.files/logstash-tutorial.log`

![image](https://github.com/tousif13/CISCO_CyberOps/assets/33444140/ca0d500f-2cba-4b3c-a855-aa3efefa9dd1)

* What is a drawback of using cat with large text files?

      Large text files will have more lines of text which cat command doesn't provide proper page breaking.
* Another popular tool for visualizing log files is `more`. Similar to `cat`, `more` is also a UNIX command-line based tool that can open a text-based file and display the file contents on the screen. The main difference between `cat` and `more` is that `more` supports page breaks, allowing the user to view the contents of a file, 
one page at a time. This can be done using the space bar to display the next page.
* From the same terminal window, use the command below to display the contents of the `logstash-tutorial.log` file again. This time using more:

![image](https://github.com/tousif13/CISCO_CyberOps/assets/33444140/a9035c08-2d5a-490e-abbd-22bd64acedf3)

* The contents of the file should scroll through the terminal window and stop when one page is displayed. Press the space bar to advance to the next page. Press enter to display the next line of text.
* What is the drawback of using more?

      We have to scroll out all the pages and difficult to visit the visited pages again.
  
* Building on the functionality of `cat` and `more`, the `less` tool allows the contents of a file to be displayed page by page, while also allowing the user the choice of viewing previously displayed pages.
* From the same terminal window, use less to display the contents the `logstash-tutorial.log` file again:

![image](https://github.com/tousif13/CISCO_CyberOps/assets/33444140/2a79d412-adcf-49f8-a2d2-f632de1fd3d2)

* The contents of the file should scroll through the terminal window and stop when one page is displayed. Press the space bar to advance to the next page. Press enter to display the next line of text. Use the up and down arrow keys to move back and forth through the text file.
* Use the “q” key on your keyboard to exit the less tool.
* The tail command displays the end of a text file. By default, tail displays the last ten lines of the file.
* Use tail to display the last ten lines of the /home/analyst/lab.support.files/logstash-tutorial.log file

![image](https://github.com/tousif13/CISCO_CyberOps/assets/33444140/6009d39b-c17d-410c-b4d1-33b419323666)

### Step 2: Actively Following Logs.

* In some situations, it is desirable to monitor log files as log entries are written to the log files. For those cases, 
the tail -f command is very helpful.
* Use `tail -f` to actively monitor the contents of the `/var/log/syslog` file:

![image](https://github.com/tousif13/CISCO_CyberOps/assets/33444140/07a53014-9167-470b-88a6-7175a2b17746)

* What is different in the output of tail and tail -f? Explain.

      The terminal appears does not accept commands further. Because tail is still running, watching the log file and will print any changes written to it on the screen.

* To watch tail –f in action, open a second terminal window. Arrange your display so you can see both terminal windows. Re-size the windows so you can see them both at the same.
* The terminal window on the top is running tail -f to monitor the /home/analyst/lab.support.files/logstash-tutorial.log file. Use the terminal window on the bottom to add information to the monitored file
* To make it easier to visualize, select the top terminal window (the one running tail -f) and press enter a few times. This will add a few lines between the current contents of the file and the new information to be added.
* Select the bottom terminal window and enter the following command:
* `echo "this is a new entry to the monitored log file" >> lab.support.files/logstash-tutorial.log`
* The command above appends the "this is a new entry to the monitored log file" message to the /home/analyst/lab.support.files/logstash-tutorial.log file. Because tail –f is monitoring the file at the moment a line is added to the file. The top window should display the new line in real-time

![image](https://github.com/tousif13/CISCO_CyberOps/assets/33444140/3e3d9db0-ddb4-42ba-8465-d3282b65d825)

* Press CTRL + C to stop the execution of tail -f and return to the shell prompt.
* Close one of the two terminal windows

## Part 2: Log Files and Syslog
